/* control_logic.h */

typedef struct {
    // Entradas lidas do CLP via Modbus [cite: 28-32]
    uint8_t sensor_nivel_alto; // 0=Inativo, 1=Ativo
    uint8_t sensor_nivel_baixo; // 0=Inativo, 1=Ativo
    uint8_t status_bomba_clp;   // Feedback real da bomba
    uint8_t falha_clp;          // Flag de erro do próprio CLP
    uint8_t conexao_ok;         // Flag interna: 1=Conectado, 0=Erro Modbus
} ModbusData_t;

typedef struct {
    // Comandos vindos da IHM (LVGL) [cite: 39-43]
    uint8_t modo_operacao;      // 0=Manual, 1=Automático
    uint8_t comando_manual;     // 0=Desligar, 1=Ligar
    uint8_t reset_alarmes;      // 1=Resetar
} HmiCommands_t;

typedef struct {
    // Saídas para a IHM e Modbus
    uint8_t acionar_bomba;      // Comando para enviar ao Modbus
    uint8_t alarme_ativo;       // 0=OK, 1=Nível Baixo, 2=Nível Alto, 3=Erro Com
} SystemStatus_t;
